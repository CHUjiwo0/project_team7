<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…¸ì¸ì¸ì§€ì¬í™œ_1ë²ˆ ë¬¸ì œ</title>
</head>
<style>
    body{
        margin: 0 auto; 
        background-color:rgba(255, 255, 255, 0.845);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: sans-serif;
    }
    .main-body{
        width: 800px;
        padding: 30px 40px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.149);
        background-color: white;
    }
    #date{
        display: flex;
        justify-content: flex-end;
        align-items: center;
    }
    #date button{
        border: none;
    }
    #date input{
        height: 20px;
        width: 80px;
        text-align: right;
        margin: 5px;
        font-size:15px;
    }
    img{
        width: 280px;
        height: 180px;
    }
    #quiz{
        display: flex;
        justify-content: center;
    }
    .table_text{
        text-align: center;
        padding: 10px;

    }
    
    #example{
        display: flex;
        justify-content: center;
    }
    #ex_table{
        border-radius: 20px;
        height: 500px;
    }
    table{
        border-collapse:collapse;
        text-align: center;
        align-items: center;
    }
    #next-page{
        display: flex;
        justify-content: flex-end;
    }
    #next{
        border-radius: 5px 5px 5px 5px;
        padding: 5px 10px 5px 10px;
    }
    button{
        background-color: white;
        margin: 1px;
        border: 1px solid rgb(172, 172, 172);
        padding: 3px 10px 3px 10px;
    }
    #check{
        height: 25px;
    }
    #q_table{
        width: 600px;
    }
    #q_table input{
        width: 180px;
        padding: 5px;
        margin: 5px;
        border: none;
        text-align: center;
    }
    .answerBtn{
        display: flex;
        justify-content: flex-end;

    }
    #done-num1{
        border-radius: 5px 5px 5px 5px;
        padding: 5px 10px 5px 10px;
        margin: 10px;
    }
    #done-num3{
        border-radius: 5px 5px 5px 5px;
        padding: 5px 10px 5px 10px;
        margin: 10px;
    }
</style>
<body>
    <div class="main-body">
        <div class="num" id="num1">
            <div class="quest">
                <h4>ğŸŒ± ì˜¤ëŠ˜ì˜ ë‚ ì§œë¥¼ ì ê³ , ì˜¤ëŠ˜ì˜ ë‚ ì”¨ë¥¼ í´ë¦­í•˜ì„¸ìš”</h4>
            </div>
            <div class="answer" id="date">
                <input type="text" class="date-input">ë…„ &nbsp;
                <input type="text" class="date-input">ì›” &nbsp;
                <input type="text" class="date-input">ì¼ &nbsp;
                <input type="text" class="date-input">ìš”ì¼ &nbsp;
                ë‚ ì”¨&nbsp;
                <button class="date-btn" id="sun"><i class="fa-solid fa-sun"></i></button>
                <button class="date-btn" id="cloud"><i class="fa-solid fa-cloud"></i></button>
                <button class="date-btn" id="rain"><i class="fa-solid fa-umbrella"></i></button>
                <button class="date-btn" id="snow"><i class="fa-solid fa-snowflake"></i></button>
            </div>
            <div class="answerBtn"><button id="done-num1">ë‹¤ í–ˆì–´ìš” ! (í´ë¦­)</button></div>

        </div>
        &emsp;
        <div class="num" id="num2">
            <div class="quest">
                <h4>ğŸŒ± ë‹¤ìŒì€ <b>ë³€ë¹„ì— ì¢‹ì€ ì‹í’ˆ</b>6ê°€ì§€ ì…ë‹ˆë‹¤. ì†Œë¦¬ ë‚´ì–´ ì½ì–´ë³´ì„¸ìš”</h4>
                <h5>âœ”ï¸ (ê¸€ì”¨ì— ë§ˆìš°ìŠ¤ë¥¼ ê°–ë‹¤ ëŒ€ë©´ ê¸€ì”¨ê°€ ì»¤ì§‘ë‹ˆë‹¤)</h5>


            </div>
            <div class="answer" id="example">
                <table id="ex_table" border="2">
                    <tr>
                        <td ><img src="img/íŒ¥.jpeg"></td>
                        <td><img src="img/í˜„ë¯¸.png"></td>
                    </tr>
                    <tr>
                        <td  class="table_text">íŒ¥</td>
                        <td  class="table_text">í˜„ë¯¸</td>
                    </tr>
                    <tr>
                        <td><img src="img/ì–‘ë°°ì¶”.jpg"></td>
                        <td><img src="img/ì˜¤ì´.jpg"></td>
                    </tr>
                    <tr>
                        <td  class="table_text">ì–‘ë°°ì¶”</td>
                        <td  class="table_text">ì˜¤ì´</td>
                    </tr>
                    <tr>
                        <td><img src="img/ìë‘.jpg"></td>
                        <td><img src="img/í‚¤ìœ„.jpg"></td>
                    </tr>
                    <tr>
                        <td class="table_text">ìë‘</td>
                        <td class="table_text">í‚¤ìœ„</td>
                    </tr>
                </table>
            </div>
        </div>
        &emsp;

        <div class="num" id="num3">
            <div class="quest">
                <h4>ğŸŒ± ë‹¤ìŒ ì‹í’ˆì„ ê¸°ì–µí•˜ê¸° ì‰½ê²Œ 3ê°€ì§€ ë¶„ë¥˜ë¡œ ë‚˜ëˆ ë³´ì„¸ìš”.(2ê°€ì§€ì”©)</h4>
                <p>âœ”ï¸ ì •ë‹µì„ ë§ì¶”ë©´ ì œëª©ì´ íšŒìƒ‰ìœ¼ë¡œ ë³€í•´ìš”</p>

            </div>
            <div class="answer" id="quiz">
                <table id="q_table" border="2">
                    <tr>
                        <th class="num3Title" id="grainTh">ê³¡ë¬¼</th>
                        <th class="num3Title" id="fruitTh">ê³¼ì¼</th>
                        <th class="num3Title" id="vegetableTh">ì•¼ì±„</th>
                    </tr>
                    <tr>
                        <td><input type="text" class="num3-Input" id="grain"></td>
                        <td><input type="text" class="num3-Input" id="fruit"></td>
                        <td><input type="text" class="num3-Input" id="vegetable"></td>
                    </tr>
                </table>
                <div class="answerBtn"><button id="done-num3">ë‹¤ í–ˆì–´ìš” ! (í´ë¦­)</button></div>

            </div>
            
        </div>
        &emsp;
        <h4>ğŸŒ± ë³€ë¹„ì— ì¢‹ì€ ì‹í’ˆì„ ê¸°ì–µí•´ì£¼ì„¸ìš”.</h4>
        <div id="next-page"><button id="next">ë‹¤ìŒ ë¬¸ì œë¡œ â–¶</button></div>
    </div>
    <script>
        const $num3Input=document.querySelectorAll('.num3-Input');
        const $dateInput=document.querySelectorAll('.date-input');
        const $doneNum3=document.querySelector('#done-num3');
        const $doneNum1=document.querySelector('#done-num1');
        const $dateBtn=document.querySelectorAll('.date-btn');
        const $next=document.querySelector('#next');
        const $tableText=document.querySelectorAll('.table_text');
        const $num3Title=document.querySelectorAll('.num3Title');


        const $grain=document.getElementById('grain');
        const $fruit=document.getElementById('fruit');
        const $vegetable=document.getElementById('vegetable');

        const grainList=['íŒ¥','í˜„ë¯¸'];
        const fruitList=['ìë‘','í‚¤ìœ„'];
        const vegetableList=['ì–‘ë°°ì¶”','ì˜¤ì´'];
       
        
        $dateBtn.forEach(id => {
            id.addEventListener('click', () => {
                    if (id.style.backgroundColor === 'lightgreen') {
                        id.style.backgroundColor = '';
                    } else {
                        $dateBtn.forEach(otherId => otherId.style.backgroundColor = '');
                        id.style.backgroundColor = 'lightgreen';
                    }
                });
        });

        $tableText.forEach(tableText => {
            tableText.addEventListener('mouseenter', () => {
                tableText.style.transform = 'scale(2)';
            });
            tableText.addEventListener('mouseleave', () => {
                tableText.style.transform = 'scale(1)';
            });
        });
            

        const inputCheck=(input)=>{
            let allInput=true;
            input.forEach(input => {
                if (input.value.trim() === '') {
                    allInput=false;
                }
            });
            return allInput;
        }; 


        $doneNum1.addEventListener('click',()=>{
            const boolCheck=inputCheck($dateInput);
            if(!boolCheck){
                alert('ëª¨ë“  ì¹¸ì„ ì…ë ¥í•´ì£¼ì‹œê³  ë‚ ì”¨ë„ ì²´í¬í•´ì£¼ì„¸ìš”!');
                console.log('false');
            }
            else{
                console.log('true');
                alert('ì…ë ¥ ì™„ë£Œ! ë¬¸ì œë¡œ ë„˜ì–´ê°€ì„¸ìš”!');
            }
        });

        $doneNum3.addEventListener('click',()=>{    
            const boolCheck=inputCheck($num3Input);

            if(!boolCheck){
                alert('ë¹ˆì¹¸ì´ ìˆìŠµë‹ˆë‹¤ ëª¨ë“  ì¹¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš” !');
                console.log('false');
            }else{
                console.log('true');
                let grainInput = document.getElementById('grain').value.trim().split(' ').join('');
                let fruitInput = document.getElementById('fruit').value.trim().split(' ').join('');
                let vegetableInput = document.getElementById('vegetable').value.trim().split(' ').join('');   

                const CorrectCheck = (input, list, num3Id ,th) => {
                    let correctList = [];
                    let i = 0;

                    const numId = {
                        'ê³¡ë¬¼': 'grain',
                        'ê³¼ì¼': 'fruit',
                        'ì•¼ì±„': 'vegetable'
                    };

                    while (i < input.length) {
                        let correct = false;
                        for (let j = 1; j < 4; j++) {   
                            let sliceInput = input.slice(i, i + j);
                            if (list.includes(sliceInput)) {
                                correctList.push(sliceInput);
                                i += j;
                                correct = true;
                                break;
                            }
                        }
                        if (!correct) {
                            i++;
                        }
                    }
                    const listName = document.getElementById(numId[num3Id]);
                    const listTh=document.getElementById(th)
                    if (correctList.length === list.length) {
                        alert(`<${num3Id}> ì…ë ¥í•˜ì‹  ê²ƒ ëª¨ë‘ ì •ë‹µì…ë‹ˆë‹¤ !`);
                            listName.disabled = true; 
                            listTh.style.backgroundColor='lightgray';
                    } else if (correctList.length > 0) {
                        alert(`<${num3Id}> 1ê°œ ì •ë‹µ ! ë‚˜ë¨¸ì§€ 1ê°œë¥¼ ë‹¤ì‹œ ì ì–´ì£¼ì„¸ìš” !`);
                    } else {
                        alert(`<${num3Id}> ì „ë¶€ ì˜¤ë‹µì…ë‹ˆë‹¤ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš” !`);
                        }
                };
                CorrectCheck(grainInput, grainList, 'ê³¡ë¬¼','grainTh');
                CorrectCheck(fruitInput, fruitList, 'ê³¼ì¼',"fruitTh");
                CorrectCheck(vegetableInput, vegetableList, 'ì•¼ì±„',"vegetableTh");

                let num=0;
                $num3Title.forEach(num3Title => {
                    if (num3Title.style.backgroundColor==='lightgray') {
                        num++;
                    }
                });
                if(num==3){
                    alert('ì •ë‹µì„ ë‹¤ ë§ì¶”ì…¨ì–´ìš” ! ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ì„¸ìš” !');
                    $doneNum3.disabled='true';
                }
            }

        });

        $nextButton = document.querySelector("#next");
        $nextButton.addEventListener("click", () => {
        window.location.href = "ê¹€ì§„í•™.html"; 
      });
        
    </script>
    <script src="https://kit.fontawesome.com/f730805eb0.js" crossorigin="anonymous"></script>
</body>
</html>

